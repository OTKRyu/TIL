# 캐싱

## 좋은 어플리케이션은

- 높은 신뢰성
- 보안
- 처리 속도/성능
- 편리한 ux

## 캐시

- 데이터나 값을 미리 복사해 놓는 임시 장소
- 원본 데이터를 접근하는 시간이 캐시의 접근 시간에 비해 오래 걸리는 경우
- 복잡한 수식을 재연산하는 시간을 절약하고 싶은 경우
- 캐시에 데이터를 미리 복사해 놓으면 계산, 접근 시간 없이 빠른 속도로 데이터에 접근 가능

## 데이터를 어떻게 보관할 것인가

- 오래된 데이터는 깊은 곳에
- 쓰인 순서대로 

- 시간지역성
- 공간지역성

## 캐싱에 적합한 대상은?

-  write가 빈번하고 read는 별로 없는 경우 : X
- read가 빈번하고 write는 별로 없는 경우: O

## 바람직한 철학은?

- 가능한 많은 데이터를 캐싱하면 성능 향사을 기대할 수 있다:  X
  - 최악의 경우 데이터부족상태까지 갈 수도 있다.
- 메모리는 매우 중요한 자원, 선별적으로 필요한 것만 캐싱하자: O

## TTL

- 보통 캐싱된 데이터에는 만료시간 및 갱신 주기가 존재함
- 데이터 sync는 너무나도 중요

## 직접 구현

- 메모리에 특정 객체를 생성한 후 캐싱하고자 하는 데이터를 저장
- 단 해당 프로세스에서 유일한 저장 장소가 되도록 잘 선언해서 사용(싱글톤 패턴)
- 실제 상황에 가면 여러 대를 묶어서 쓰기 때문에 cluster를 고려해야한다.

## EHCache

- 로컬 캐시 라이브러리
- WAS n대 클러스터링 되어 있다면 동기화 이슈 발생
- WAS간 내부 통신을 이용해 동기화 작업 선행

## redis

- NoSQL & Cache 솔루션, 메모리 기반으로 구성
- in-memory DB
- 데이터베이스로 사용될 수 있으며 Cache로도 사용될 수 있는 기술

## 캐싱 실전 적용

- cache의 기본적인 개념 파악
- 로컬 캐시 적용해보기
- 웹 ap 작성 코드에 db 연동 조회 결과값을 특정 객체에 저장
- in-memory DB 솔루션 Redis 경험해보기