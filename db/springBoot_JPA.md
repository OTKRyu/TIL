# spring boot JPA

erd를 작성할 때 큰 주제와 그 아래의 요소를 육하원칙에 따라 구성하면 어느정도 구성을 갖출 수 있다.

프로퍼티 설정을 해줘야 한다. 옵션이 여러가지 있는데 찾아봐야한다.

autoincrement를 쓰는것보다 unsigned 타입으로 만들면 데이터를 줄이면서 용량을 더 많이 쓸 수 있다.(auto때는 음수 부분이 쓰이지 않기 때문에)

## object - relational mapping(orm)

객체 관걔 매핑, 언어의 객체를 db의 구조와 연동하는 방식

relationship mapping때는 다중성 방향성 연관관계의 주인을 고려해야 한다.

- 다중성
  - 일대일, 일대다, 다대일, 다대다
  - 특히나 일대다와 다대일의 다르기 때문에 어떤 상황에 더 맞는지를 생각해봐야한다.
- 방향성
  - a가 b를 참조, b가 a를 참조, a와 b가 서로 참조
  - 이런 양방향은 jpa에서 신중하게 사용해야한다. 무한참조가 되는 수가 있다.
- 관계의 주인
  - 양방향일경우 어떤 테이블 기준으로 데이터를 삭제하면 그것에 관련된 데이터드를 삭제할 것인가
  - 이를 정하기 위해서 fk 키 관리 주이을 설정해 줘야한다.
  - '다'에 해당하는 쪽이 주인이다.

## @Entity

db의 테이블이 되는 것, 이를 넣어줌으로서 db의 테이블과 연동이 된다.

## JpaReositoty

- read : find***
- delete : delete***
- create : save
- update : 객체 조회 후 값 변경 그리고 다시 save
- 지원하는것 이상으로 커스텀하고 싶을때는 sql문이라 비슷하게 메소드명을 정해서 사용할 수 있다.