# 한국어 데이터 전처리

## 전처리

- 전처리 하는 이유

  - 한글로 된 데이터를 크롤링 또는 오픈 데이터를 가져다 쓰려고 할 때, 띄어쓰기 맞춤법 등이 틀린 것이 많다.

  - 사소한 차이는 임베딩 벡터로 보면 큰 차이일 수 있다.

  - 정제 하지 않은 데이터와 정제된 데이터는 분석 결과에서 많은 차이를 보인다.

- 전처리 방법
  - basic
    - 기초적인 전처리
    - html tag 제거
    - 숫자, 영어, 특수문자 등 필요하지 않은 언어 제거
    - lowercasing
    - 문장부호 제거
    - emoji 및 basic multilingual plane 제거
  - tokenize
    - 자연어 처리에서는 텍스트를 토큰 단위로 나눈다. 특히 한국어에서는 띄어쓰기는 문맥과 의미를 구분하는데 큰 영향
    - 애초에 모든 공백을 없앤 후, 문맥에 따라 띄어 쓴 문장을 만드는 것이 좋은 방법
      - 경계인식 바익: 띄어쓰는 경계 지저을 학습하는 방식
      - 영역인식 방식: 띄어쓰는 지점 주변 토큰의 영향을 고르게 받음
    - 문장 분리 
      - 영역인식 방식: 문자 분리의 경우 형태소 분석을 종결어미를 구분한다던지, 문장의 CONDITIONAL RANDOM FIELD 결과로 판단하는 방법이 있다.
  - spell check
  - pos tag(품사 태깅)
    - kenlpy의 평태소 분석기(komoran, hannanum, kkma, okt, mecab) 의 서능은 비슷비슷 함
    - 이 외 python기반의 형태소 분석기 중 카카오에서 khaiii라는 오픈 소스 등이 있음
    - 이 과정이 제대로 선행되어야 양질의 분석이 가능하다
  - stemming(어근화)
    - 한국어는 5언 9품사의 구조를 가짐
    - 이 중 용언에 해당하는 동사와 형용사는 어간과 어미의의 결합으로 구성
    - 동사를 원형으로 복원해줌
  - stopwords(불용어처리)
    - 갖고 있는 데이터에서 유의미한 단어 토큰 만을 선별하기 위해서 큰 의미가 없는 단어 토큰을 제거하는 작업
  - replacing and correcting words
- 한국어 전처리 패키지
  - pykospacing: 한국어 띄어쓰기 패키지로 띄어쓰기가 되어있지 않은 문장을 띄어쓰기를 한 문장으로 변환해주는 패키지
  - py-hanspell: 네이버 한글 맞춤법 검사기를 바타으로 만들어진 패키질 맞춤법을 고친 문장을 반환해줌
  - soynlp: 등록되지 않은 단어에 대한 분석이 어렵기 때문에, 단어의 앞, 뒤의 정보를 파악해 정규화시켜준다. ㅋㅋㅋ같은 글을 그냥 ㅋ으로 바꿔준다던가하는 식이다.
  - customized konlpy: 영어는 띄어쓰기만해도 단어가 잘 분리되나 한국어는 경우가 다르다. 이러한 상황을 극복하기 위해 형태소 분석기에 사용자 사전을 추가
    - 특정 도메인 업종, 특수명칭등을 사용하는 텍스트 분석에 유용
- 실무에서의 전처리
  - 기존에 나와 있는 라이브러리를 백프로 활용하지는 않는다.
  - 내부에서 사용하는 용어, 동의어, 불용어 사전을 함께 운용해서 반영함
  - 신조어도 주기적으로 반영
  - ai 기반 확률적 전처리 방법에는 예외가 종종 발생하며 대량의 데이터 처리시 발생하는 처리속도의 문제도 있다.
